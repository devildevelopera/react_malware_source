import React from 'react';
import { connect } from 'react-redux';
import { Grid, Typography, Paper} from '@material-ui/core';
import Table from '@material-ui/core/Table';
import TableBody from '@material-ui/core/TableBody';
import TableCell from '@material-ui/core/TableCell';
import TableRow from '@material-ui/core/TableRow';
import '../theme/home.css';

class UrlDetails extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            data: props.virus.data,
        };
    }

    onChange = e => {
        this.setState({
            [e.target.id]: e.target.value
        });
    };

    render() {
        return (
            <div>
                <div className="w90">
                    <Grid container spacing={1} direction="row" justify="center" alignItems="center" className="rowpan">
                        <Grid item xs={11} style={{ marginTop: 50, marginBottom: 10 }}>
                            <Typography variant="h6" color="inherit">
                               <a href="/Home"> Home </a> &nbsp;/ Url
                            </Typography>
                        </Grid>
                    </Grid>
                    <Grid container spacing={1} direction="row" justify="center" alignItems="center" className="rowpan">
                        <Grid item xs={11} style={{ marginTop: 50, marginBottom: 10 }}>
                            <Typography className="title-top" color="inherit" >
                                Threat haus Database
                            </Typography>
                        </Grid>
                        <Grid item xs={11} >
                            <p className="title-top-small">
                                Please consider that Threat haus does not differentiate between websites that have been compromised by hackers and such that has been setup by cybercriminals for the sole purpose of serving malware. 
                            </p>
                        </Grid>
                    </Grid>
                    <Grid container spacing={1} direction="row" justify="center" alignItems="center" className="rowpan">
                        <Grid item xs={11} style={{ marginTop: 50, marginBottom: 10 }}>
                            <Typography className="title" variant="h5" color="inherit">
                                Database Entry
                            </Typography>
                        </Grid>
                    </Grid>
                    <Grid container direction="row" justify="center" alignItems="center" >
                        <Grid item xs={10} >
                            <Paper >
                                <Table >
                                    <TableBody>
                                    {
                                      this.state.data
                                       ? (
                                           Object.keys(this.state.data).map(item => (
                                            (item === '_id' || item=== '__v') ?    
                                            (null) : 
                                            (<TableRow>
                                                <TableCell align="center" style={{borderRight: '1px solid #9b9393'}}>{item}</TableCell>
                                                <TableCell align="center">{this.state.data[item]}</TableCell>
                                            </TableRow>)
                                        ))
                                       ):  <TableRow />
                                    }    
                                    </TableBody>
                                </Table>
                            </Paper>
                        </Grid>
                    </Grid>
                </div>
            </div>
        );
    }
}

function mapStateToProps(state) {
    const { virus } = state;

    return {
        virus
    };
}

export default connect(mapStateToProps, null, null, { pure: false })(UrlDetails);